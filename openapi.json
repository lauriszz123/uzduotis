{"openapi":"3.0.1","info":{"title":"Uzduotis REST API","description":"This API was created for a job application","version":"1.0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"Statistics API","description":"Endpoints for managing statistics"},{"name":"Message API","description":"Endpoints for managing messages"},{"name":"User API","description":"Endpoints for managing users/authentication"}],"paths":{"/api/v1/user":{"post":{"tags":["User API"],"summary":"Create a user","operationId":"createUser","parameters":[{"name":"Authorization","in":"header","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequestDTO"}}},"required":true},"responses":{"200":{"description":"Successfully created","content":{"*/*":{"schema":{"type":"string"}}}},"401":{"description":"Not logged in, Authorization does not meet the 36 character requirement or Invalid authorization token","content":{"*/*":{"schema":{"type":"string"}}}},"403":{"description":"Not an admin","content":{"*/*":{"schema":{"type":"string"}}}}}},"delete":{"tags":["User API"],"summary":"Delete a user","operationId":"deleteUser","parameters":[{"name":"Authorization","in":"header","required":true,"schema":{"type":"string"}},{"name":"username","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"401":{"description":"Not logged in, Authorization does not meet the 36 character requirement or Invalid authorization token","content":{"*/*":{"schema":{"type":"string"}}}},"403":{"description":"Not an admin","content":{"*/*":{"schema":{"type":"string"}}}},"200":{"description":"Successfully deleted","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/v1/user/logout":{"post":{"tags":["User API"],"summary":"User logout","operationId":"logoutUser","parameters":[{"name":"Authorization","in":"header","required":true,"schema":{"type":"string"}}],"responses":{"404":{"description":"Session not found","content":{"*/*":{"schema":{"type":"string"}}}},"200":{"description":"Successfully logged out","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TokenDTO"}}}},"401":{"description":"Authorization does not meet the 36 character requirement or Invalid authorization token","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/v1/user/login":{"post":{"tags":["User API"],"summary":"User login","operationId":"loginUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequestDTO"}}},"required":true},"responses":{"200":{"description":"Successfully logged in","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TokenDTO"}}}},"default":{"description":"Error occured while trying to log in","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/v1/message":{"get":{"tags":["Message API"],"summary":"Get all messages","operationId":"getMessages","parameters":[{"name":"Authorization","in":"header","required":true,"schema":{"type":"string"}}],"responses":{"401":{"description":"Not logged in, Authorization does not meet the 36 character requirement or Invalid authorization token","content":{"*/*":{"schema":{"type":"string"}}}},"200":{"description":"Successfully retrieved messages","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MessageResponseDTO"}}}}}},"post":{"tags":["Message API"],"summary":"Create a message","operationId":"createMessage","parameters":[{"name":"Authorization","in":"header","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageRequestDTO"}}},"required":true},"responses":{"401":{"description":"Not logged in, Authorization does not meet the 36 character requirement or Invalid authorization token","content":{"*/*":{"schema":{"type":"string"}}}},"200":{"description":"Message created","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/v1/user/all":{"get":{"tags":["User API"],"summary":"Get all users in database","operationId":"getAllUsers","parameters":[{"name":"Authorization","in":"header","required":true,"schema":{"type":"string"}}],"responses":{"401":{"description":"Not logged in, Authorization does not meet the 36 character requirement or Invalid authorization token","content":{"*/*":{"schema":{"type":"string"}}}},"200":{"description":"Successfully fetched all users","content":{"*/*":{"schema":{"type":"array","example":[{"username":"simpleUsername","admin":false},{"username":"adminUser","admin":true}]}}}},"403":{"description":"Not an admin","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/v1/statistics":{"get":{"tags":["Statistics API"],"summary":"Get user message statistics","operationId":"getUserStatistics","parameters":[{"name":"Authorization","in":"header","required":true,"schema":{"type":"string"}},{"name":"username","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"401":{"description":"Not logged in, Authorization does not meet the 36 character requirement or Invalid authorization token","content":{"*/*":{"schema":{"type":"string"}}}},"200":{"description":"Successfully retrieved statistics","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MessageStatisticsDTO"}}}},"403":{"description":"Not an admin","content":{"*/*":{"schema":{"type":"string"}}}}}}}},"components":{"schemas":{"RegisterRequestDTO":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"},"admin":{"type":"boolean"}}},"TokenDTO":{"type":"object","properties":{"token":{"type":"string"}}},"LoginRequestDTO":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"}}},"MessageRequestDTO":{"type":"object","properties":{"message":{"type":"string"}}},"MessageStatisticsDTO":{"type":"object","properties":{"username":{"type":"string"},"messageCount":{"type":"integer","format":"int32"},"firstMessageTimestamp":{"type":"string"},"lastMessageTimestamp":{"type":"string"},"averageMessageLength":{"type":"integer","format":"int32"},"lastMessageText":{"type":"string"}}},"MessageResponseDTO":{"type":"object","properties":{"username":{"type":"string"},"message":{"type":"string"},"timestamp":{"type":"string"}}}}}}